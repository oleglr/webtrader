{"version":3,"sources":["../../../../src/trade/lookback.es6"],"names":["isLookback","test","type","formula","multiplier","replacer","str","formulaMapping","LBFLOATPUT","replace","LBFLOATCALL","LBHIGHLOW","barrierLabels","barrier_map","makeLookbackRequest","amount","req","basis"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAO,MAAMA,kCAAa,SAAbA,UAAa;AAAA,WAAQ,wCAAuCC,IAAvC,CAA4CC,IAA5C;AAAR;AAAA,GAAnB;;AAEA,MAAMC,4BAAU,SAAVA,OAAU,CAACD,IAAD,EAAOE,UAAP,EAAsB;AAC3C,QAAMC,WAAW,SAAXA,QAAW;AAAA,aAAOD,cAAcE,GAArB;AAAA,KAAjB;AACA,QAAMC,iBAAiB;AACrBC,kBAAa,8BAA8BC,OAA9B,CAAsC,YAAtC,EAAoDJ,QAApD,CADQ;AAErBK,mBAAa,6BAA6BD,OAA7B,CAAqC,YAArC,EAAmDJ,QAAnD,CAFQ;AAGrBM,iBAAa,4BAA4BF,OAA5B,CAAoC,YAApC,EAAkDJ,QAAlD;AAHQ,KAAvB;AAKA,WAAOE,eAAeL,IAAf,CAAP;AACD,GARM;;AAUA,MAAMU,wCAAgB,SAAhBA,aAAgB,CAACV,IAAD,EAAU;AACrC,QAAMW,cAAc;AAClBH,mBAAa,CAAC,KAAD,CADK;AAElBF,kBAAa,CAAC,MAAD,CAFK;AAGlBG,iBAAa,CAAC,MAAD,EAAS,KAAT;AAHK,KAApB;AAKA,WAAOE,YAAYX,IAAZ,CAAP;AACD,GAPM;;AASA,MAAMY,oDAAsB,SAAtBA,mBAAsB,MAAO;AAAA,QAChCC,MADgC,GACrBC,GADqB,CAChCD,MADgC;;AAExC,QAAMX,aAAaW,SAAS,CAACA,MAAV,GAAmB,CAAtC;AACA,WAAOC,IAAID,MAAX;AACA,WAAOC,IAAIC,KAAX;;AAEA,wBAAYD,GAAZ,IAAiBZ,sBAAjB;AACD,GAPM;;oBASQ;AACbJ,0BADa;AAEbG,oBAFa;AAGbS,gCAHa;AAIbE;AAJa,G","file":"lookback.js","sourcesContent":["export const isLookback = type => /^(LBFLOATCALL|LBFLOATPUT|LBHIGHLOW)$/.test(type);\r\n\r\nexport const formula = (type, multiplier) => {\r\n  const replacer = str => multiplier || str;\r\n  const formulaMapping = {\r\n    LBFLOATPUT : 'Multiplier x (High - Close)'.replace(/Multiplier/, replacer),\r\n    LBFLOATCALL: 'Multiplier x (Close - Low)'.replace(/Multiplier/, replacer),\r\n    LBHIGHLOW  : 'Multiplier x (High - Low)'.replace(/Multiplier/, replacer),\r\n  };\r\n  return formulaMapping[type];\r\n};\r\n\r\nexport const barrierLabels = (type) => {\r\n  const barrier_map = {\r\n    LBFLOATCALL: ['Low'],\r\n    LBFLOATPUT : ['High'],\r\n    LBHIGHLOW  : ['High', 'Low'],\r\n  };\r\n  return barrier_map[type];\r\n}\r\n\r\nexport const makeLookbackRequest = req => {\r\n  const { amount } = req;\r\n  const multiplier = amount ? +amount : 0;\r\n  delete req.amount;\r\n  delete req.basis;\r\n\r\n  return { ...req, multiplier }\r\n}\r\n\r\nexport default {\r\n  isLookback,\r\n  formula,\r\n  barrierLabels,\r\n  makeLookbackRequest\r\n}\r\n"]}