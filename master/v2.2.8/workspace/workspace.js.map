{"version":3,"sources":["../../../../src/workspace/workspace.es6"],"names":["INITIAL_WORKSPACE_NAME","states","local_storage","get","name","set","clone","JSON","parse","stringify","obj","sanitize","value","replace","state","route","closeAll","dialog","workspaces","dialogs","update_route","tileDialogs","workspace","remove","inx","indexOf","w","splice","show","needsAuthentication","tradeDialog","length","portfolio","statement","profitTable","deposit","withdraw","liveapi","is_authenticated","$","growl","notice","message","i18n","manager_win","_","delay","current_workspace","tracker","reopen","prev_name","save_name","blur","el","rename","filter","wk","name_prev_value","is_saved","result","findIndex","save","saveas","apply","cancel","find","matches","match","number","parseInt","change","push","file","hash_code","s","split","reduce","a","b","charCodeAt","open_selector","e","$root","target","closest","click","upload","event","files","reader","FileReader","onload","contents","data","hash","random","template_type","error","readAsText","download","json","downloadFileInBrowser","root","manager_view","openManager","$html","html","close","unbind","destroy","windows","createBlankWindow","title","width","height","resizable","collapsable","minimizable","maximizable","draggable","modal","ignoreTileAction","create","css","overflow","beforeClose","rv","bind","init","parent","showWorkspaceManager","html_menu","append","addDialog","clickCb","removeCb","row","cleaner","events","shuffle","array","temp","rand_inx","Math","floor","d","$d","hasClass","window","arrange","perform","total_free_space","max_x","y","is","inx_start","row_height","x","h","max","free_space","margin_left","j","animate","left","top","trigger","my","at","best","best_free_space","i","slice","largeDialogs","forEach","setTimeout"],"mappings":"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","file":"workspace.js","sourcesContent":["import html_menu from 'text!./workspace-menu.html';\r\nimport html from 'text!./workspace.html';\r\nimport rv from '../common/rivetsExtra';\r\nimport $ from 'jquery';\r\nimport 'jquery-growl';\r\nimport 'css!./workspace-menu.css';\r\nimport 'css!./workspace.css';\r\nimport liveapi from '../websockets/binary_websockets';\r\nimport windows from '../windows/windows';\r\nimport tracker from '../windows/tracker';\r\n\r\nconst INITIAL_WORKSPACE_NAME = 'my-workspace-1';\r\n(() => {\r\n   const states = local_storage.get('states');\r\n   if(states && !states.name) {\r\n      states.name = INITIAL_WORKSPACE_NAME;\r\n      local_storage.set('states', states);\r\n   }\r\n})();\r\n\r\nconst clone = obj => JSON.parse(JSON.stringify(obj));\r\n\r\nconst sanitize = value => value.replace(/(\"|'|\\&|\\(|\\)|\\<|\\>|\\;)/g, '');\r\n\r\nconst state = {\r\n   route: 'active', // one of ['active', 'saved', 'rename', 'saveas']\r\n   closeAll: () => $('.webtrader-dialog').dialog('close'),\r\n   workspaces: local_storage.get('workspaces') || [],\r\n   dialogs: [ ],\r\n   update_route: route => state.route = route,\r\n   tileDialogs: () => tileDialogs(),\r\n   workspace: {\r\n      remove: w => {\r\n         const inx = state.workspaces.indexOf(w);\r\n         inx !== -1 && state.workspaces.splice(inx, 1);\r\n         local_storage.set('workspaces', state.workspaces);\r\n      },\r\n      show: w => {\r\n         let needsAuthentication = w.tradeDialog && w.tradeDialog.length;\r\n         needsAuthentication = needsAuthentication || w.portfolio || w.statement || w.profitTable \r\n                              || w.deposit || w.withdraw;\r\n         if(needsAuthentication && !liveapi.is_authenticated()) {\r\n            $.growl.notice({ message: 'Please log in to see your saved workspace.'.i18n() });\r\n            return;\r\n         }\r\n         state.closeAll();\r\n         manager_win.dialog('close');\r\n         _.delay(() => {\r\n            state.current_workspace.name = sanitize(w.name);\r\n            local_storage.set('states', w);\r\n            tracker.reopen(clone(w));\r\n         }, 500);\r\n      },\r\n      prev_name: '',\r\n      save_name: w => state.workspace.prev_name = sanitize(w.name),\r\n      blur: el => el.blur(),\r\n      rename: w => {\r\n        const prev_name = sanitize(state.workspace.prev_name);\r\n        const current_workspace = state.current_workspace;\r\n        if(!w.name || state.workspaces.filter(wk => wk.name === w.name).length >= 2)\r\n          w.name = state.workspace.prev_name;\r\n        local_storage.set('workspaces', state.workspaces);\r\n        if(current_workspace.name === prev_name) {\r\n          current_workspace.name = sanitize(w.name);\r\n\r\n          const states = local_storage.get('states');\r\n          states.name = sanitize(w.name);\r\n          local_storage.set('states', states);\r\n        }\r\n      }\r\n   },\r\n   current_workspace: {\r\n      name: sanitize((local_storage.get('states') || {  }).name || 'workspace-1'),\r\n      name_prev_value: '',\r\n      is_saved: () => {\r\n         const result = _.findIndex(state.workspaces, {name: sanitize(state.current_workspace.name)}) !== -1;\r\n         return result;\r\n      },\r\n      save: () => {\r\n         const {name, is_saved} = state.current_workspace;\r\n         if(!is_saved()) {\r\n            return state.saveas.show();\r\n         }\r\n         const workspace = local_storage.get('states');\r\n         workspace.name = sanitize(name);\r\n         const inx = _.findIndex(state.workspaces, {name: workspace.name});\r\n         state.workspaces[inx] = workspace;\r\n         state.workspaces = clone(state.workspaces);\r\n         local_storage.set('workspaces', state.workspaces);\r\n         $.growl.notice({ message: 'Workspace changes saved'.i18n() });\r\n      }\r\n   },\r\n   rename: {\r\n      show: () => {\r\n         state.current_workspace.name_prev_value = sanitize(state.current_workspace.name);\r\n         state.route = 'rename';\r\n      },\r\n      apply: () => { \r\n         let {name, name_prev_value} = state.current_workspace;\r\n         if(!name || name === name_prev_value) { \r\n            return state.rename.cancel();\r\n         }\r\n         if(_.find(state.workspaces, {name: name})) {\r\n            const matches = name.match(/\\d+$/);\r\n            let number = matches ? parseInt(matches[0]) : 0;\r\n            name = name.replace(/\\d+$/, '');\r\n            while(_.find(state.workspaces, {name: name + number}))\r\n               number += 1;\r\n            name = name + number;\r\n         }\r\n         const workspace = _.find(state.workspaces, {name: name_prev_value});\r\n         if(workspace) {\r\n            workspace.name = name;\r\n            state.workspaces = state.workspaces;\r\n            local_storage.set('workspaces', state.workspaces);\r\n         }\r\n         const states = local_storage.get('states');\r\n         states.name = name;\r\n         local_storage.set('states', states);\r\n\r\n         state.current_workspace.name = sanitize(name);\r\n         state.route = 'active';\r\n      },\r\n      change: () => {\r\n         state.current_workspace.name = sanitize(state.current_workspace.name);\r\n      },\r\n      cancel: () => {\r\n         state.current_workspace.name = sanitize(state.current_workspace.name_prev_value);\r\n         state.route = 'active';\r\n      }\r\n   },\r\n   saveas: {\r\n      show: () => {\r\n        if (state.route !== 'saveas') {\r\n          state.current_workspace.name_prev_value = sanitize(state.current_workspace.name);\r\n          state.route = 'saveas';\r\n        }\r\n        else {\r\n          state.route = 'active';\r\n        }\r\n      },\r\n      apply: () => { \r\n         let {name, name_prev_value} = state.current_workspace;\r\n         if(!name) { \r\n            return state.saveas.cancel();\r\n         }\r\n         if(_.find(state.workspaces, {name: name})) {\r\n            const matches = name.match(/\\d+$/);\r\n            let number = matches ? parseInt(matches[0]) : 0;\r\n            name = name.replace(/\\d+$/, '');\r\n            while(_.find(state.workspaces, {name: name + number}))\r\n               number += 1;\r\n            name = name + number;\r\n         }\r\n         const workspace = local_storage.get('states');\r\n         workspace.name = name;\r\n         state.workspaces.push(workspace);\r\n         local_storage.set('workspaces', state.workspaces);\r\n\r\n         state.current_workspace.name = name;\r\n         state.route = 'active';\r\n         $.growl.notice({ message: \"Added new workspace %\".i18n().replace('%', `<b>${name}</b>`) });\r\n      },\r\n      cancel: () => state.rename.cancel()\r\n   },\r\n   file: {\r\n      hash_code: (s) => JSON.stringify(s).split(\"\").reduce((a,b) => {a=((a<<5)-a)+b.charCodeAt(0);return a&a},0),\r\n      open_selector: (e) => {\r\n         const $root = $(e.target).closest('.workspace-manager-dialog');\r\n         $root.find(\"input[type=file]\").click();\r\n      },\r\n      upload: (event) => {\r\n         // const _this = this;\r\n         const file = event.target.files[0];\r\n         event.target.value = null;\r\n         if(!file) { return; }\r\n\r\n         const reader = new FileReader();\r\n         reader.onload = (e) => {\r\n            const contents = e.target.result;\r\n            // const array = local_storage.get(\"trade-templates\");\r\n            let data = null;\r\n            try{\r\n               data = JSON.parse(contents);\r\n               data.name = sanitize(data.name);\r\n               const hash = data.random;\r\n               delete data.random;\r\n               if(hash !== state.file.hash_code(data)){ throw \"Invalid JSON file\".i18n(); }\r\n               if(data.template_type !== 'workspace-template') { throw \"Invalid template type.\".i18n(); }\r\n            } catch(e) {\r\n               $.growl.error({message:e});\r\n               return;\r\n            }\r\n\r\n            if(_.find(state.workspaces, {name: data.name})) {\r\n               const matches = name.match(/\\d+$/);\r\n               $.growl.error({message: \"Template name already exists\".i18n()});\r\n               return; // don't apply the same workspace\r\n            }\r\n            delete data.template_type;\r\n            delete data.random;\r\n            state.workspaces.push(data);\r\n            local_storage.set('workspaces', state.workspaces);\r\n\r\n            state.workspace.show(data);\r\n\r\n            $.growl.notice({message: \"Successfully added workspace as \".i18n() + \"<b>\" + data.name + \"</b>\"});\r\n         }\r\n\r\n         reader.readAsText(file);\r\n      },\r\n      download: (w) => {\r\n         const {name} = w;\r\n         const inx = _.findIndex(state.workspaces, {name: name});\r\n         const workspace = inx !== -1 ? state.workspaces[inx] : local_storage.get('states');\r\n         workspace.name = sanitize(name);\r\n         workspace.template_type = 'workspace-template';\r\n         workspace.random = state.file.hash_code(workspace)\r\n         var json = JSON.stringify(workspace);\r\n         downloadFileInBrowser(workspace.name + '.json', 'text/json;charset=utf-8;', json);\r\n         $.growl.notice({message: \"Downloading workspace as %1\".i18n().replace(\"%1\", `<b>${workspace.name}.json</b>`)});\r\n      }\r\n   }\r\n};\r\nstate.current_workspace.root = state;\r\nlet manager_win = null;\r\nlet manager_view = null;\r\nconst openManager = () => {\r\n  const $html = $(html).i18n();\r\n  const close = () => {\r\n    manager_view && manager_view.unbind();\r\n    manager_view = null;\r\n    manager_win && manager_win.destroy();\r\n    manager_win = null;\r\n  };\r\n  manager_win = windows.createBlankWindow($html, {\r\n    title: 'Manage'.i18n(),\r\n    width: 400,\r\n    height: 250,\r\n    resizable: false,\r\n    collapsable: false,\r\n    minimizable: false,\r\n    maximizable: false,\r\n    draggable: false,\r\n    modal: true,\r\n    close: close,\r\n    ignoreTileAction:true,\r\n    'data-authorized': true,\r\n    create:() => $('body').css({ overflow: 'hidden' }),\r\n    beforeClose: () => $('body').css({ overflow: 'inherit' })\r\n  });\r\n  manager_view = rv.bind($html[0], state);\r\n  manager_win.dialog('open');\r\n}\r\n\r\nexport const init = (parent) => {\r\n   const state = {\r\n     closeAll: () => $('.webtrader-dialog').dialog('close'),\r\n     tileDialogs: () => tileDialogs(),\r\n     showWorkspaceManager: () => {\r\n       openManager();\r\n     }\r\n   };\r\n   const root = $(html_menu);\r\n   parent.append(root);\r\n   rv.bind(root[0], state);\r\n}\r\nexport const addDialog = (name, clickCb, removeCb) => {\r\n   const row = {\r\n      name: name,\r\n      click: () => {\r\n        manager_win && manager_win.dialog('close');\r\n        clickCb();\r\n      },\r\n      remove: () => { cleaner(); removeCb(); } \r\n   };\r\n   const cleaner = () => {\r\n      const inx = state.dialogs.indexOf(row);\r\n      inx !== -1 && state.dialogs.splice(inx, 1);\r\n   }\r\n   state.dialogs.push(row);\r\n   return cleaner;\r\n}\r\n\r\nexport const events = $('<div/>');\r\n\r\nexport const tileDialogs = () => {\r\n   /* shuffle the given array */\r\n   const shuffle = (array) => {\r\n      let temp, rand_inx;\r\n\r\n      for (let inx = array.length; inx > 0;) {\r\n         rand_inx = Math.floor(Math.random() * inx);\r\n         --inx;\r\n         temp = array[inx];\r\n         array[inx] = array[rand_inx];\r\n         array[rand_inx] = temp;\r\n      }\r\n\r\n      return array;\r\n   }\r\n\r\n   // get array of dialogs\r\n   var dialogs = $('.webtrader-dialog').filter((inx, d) => {\r\n      /* check to see if initialized and is visible */\r\n      const $d = $(d);\r\n      return $d.hasClass(\"ui-dialog-content\") && $d.dialog(\"isOpen\") &&\r\n            !$d.hasClass('ui-dialog-minimized') && ($(window).width() >= $d.dialog('option', 'width'));\r\n   });\r\n\r\n\r\n   const arrange = (dialogs, perform) => {\r\n      let total_free_space = 0;\r\n\r\n      const max_x = $(window).width();\r\n      let y = 115; // position of the next window from top\r\n      if($(\"#msg-notification\").is(\":visible\"))\r\n            y = 150;\r\n\r\n      for (var inx = 0; inx < dialogs.length;) {\r\n         var inx_start = inx;\r\n         var row_height = 0; // height of the current row of dialogs\r\n         var x = 0; // positon of the next window from left\r\n\r\n         for (;/* see which which dialogs fit into current row */;) {\r\n            if (inx == dialogs.length)\r\n               break;\r\n            const d = $(dialogs[inx]);\r\n            const w = d.dialog('option', 'width'),\r\n               h = d.dialog('option', 'height');\r\n            row_height = Math.max(row_height, h);\r\n            if (x + w <= max_x) {\r\n               x += w;\r\n               ++inx;\r\n            }\r\n            else\r\n               break;\r\n         }\r\n\r\n         /* divide the vertical space equally between dialogs. */\r\n         const free_space = x < max_x ? (max_x - x) : 0;\r\n         let margin_left = x < max_x ? (max_x - x) / (inx - inx_start + 1) : 0; /* the current window might be wider than screen width */\r\n         if(inx != dialogs.length) { /* we don't care about extra space at last row */\r\n            total_free_space += free_space;\r\n         }\r\n         if (x === 0 && $(dialogs[inx]).dialog('option', 'width') > max_x) {\r\n            ++inx;\r\n            margin_left = 0;\r\n         };\r\n         x = 0;\r\n         for (var j = inx_start; j < inx; ++j) {\r\n            x += margin_left;\r\n            const d = $(dialogs[j]);\r\n            const w = d.dialog('option', 'width'),\r\n               h = d.dialog('option', 'height');\r\n\r\n            if(perform) /* are we testing or do we want to arrange elements */\r\n               d.dialog('widget').animate({\r\n                  left: x + 'px',\r\n                  top: y + 'px'\r\n               }, 1500, d.trigger.bind(d, 'animated'));\r\n            /* update dialog option.position */\r\n            d.dialog(\"option\", \"position\", { my: x, at: y });\r\n            x += w;\r\n         };\r\n         y += row_height + 20;\r\n      }\r\n      return total_free_space;\r\n   }\r\n\r\n   /* we will try 100 different arrangements and pick the best one */\r\n   let best = null,\r\n      best_free_space = 1000*1000;\r\n   for (var i = 0; i < 100; ++i) {\r\n     // https://trello.com/c/NUzJ7nRn/947-chart-auto-scroll\r\n      // shuffle(dialogs); // shuffle dialogs\r\n      var total_free_space = arrange(dialogs, false);\r\n      if (total_free_space < best_free_space) {\r\n         best = dialogs.slice(); // clone the array\r\n         best_free_space = total_free_space;\r\n      }\r\n   }\r\n   // get array of large dialogs (larger than window size)\r\n   const largeDialogs = $('.webtrader-dialog').filter(function (inx, d) {\r\n      /* check to see if initialized and is visible */\r\n      const $d = $(d);\r\n      return $d.hasClass(\"ui-dialog-content\") && $d.dialog(\"isOpen\") && !$d.hasClass('ui-dialog-minimized') && ($(window).width() < $d.dialog('option', 'width'));\r\n   });\r\n   _(largeDialogs).forEach(function (d) {\r\n      best.push(d);\r\n   });\r\n   arrange(best, true);\r\n\r\n   setTimeout(() => events.trigger('tile'), 1600);\r\n}\r\n\r\nexport default { init, addDialog, events, tileDialogs };\r\n"]}