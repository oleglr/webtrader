{"version":3,"sources":["../../../../src/themes/themes.es6"],"names":["win","themeName","local_storage","get","custom_theme","name","require","Highcharts","setOptions","plotOptions","candlestick","lineColor","color","upColor","upLineColor","off","on","$ele","elementText","text","attr","confirmationDialog","themeObj","moveToTop","$html","i18n","windows","createBlankWindow","dialogClass","width","height","resizable","collapsable","minimizable","maximizable","closable","closeOnEscape","modal","ignoreTileAction","destroy","find","$","growl","notice","message","remove","set","location","reload","dialog"],"mappings":";;;;;;;;;;;;;;;;;;AASA,OAAIA,MAAM,IAAV;;AAEA;AAXA;;;AAYA,OAAIC,YAAYC,cAAcC,GAAd,CAAkB,OAAlB,CAAhB;AACA,OAAMC,eAAeF,cAAcC,GAAd,CAAkB,cAAlB,CAArB;AACAF,eAAYA,aAAaA,UAAUI,IAAnC;AACA,OAAIJ,SAAJ,EAAe;AACZK,cAAQ,CAAC,kCAAkCL,SAAnC,CAAR;AACF,IAFD,MAGK,IAAGG,YAAH,EAAiB;AACnBG,iBAAWC,UAAX,CAAsBJ,YAAtB;AACF,IAFI,MAGA;AAAE;AACJG,iBAAWC,UAAX,CAAsB;AACnBC,sBAAa;AACVC,yBAAa;AACVC,0BAAW,eADD;AAEVC,sBAAO,mBAFG;AAGVC,wBAAS,kBAHC;AAIVC,4BAAa;AAJH;AADH;AADM,OAAtB;AAUF;;AAED,yBAAE,4FACC,0EADH,EAEIC,GAFJ,CAEQ,OAFR,EAGIC,EAHJ,CAGO,OAHP,EAGgB,YAAY;AACtB,UAAMC,OAAO,sBAAE,IAAF,CAAb;AACA,UAAMC,cAAcD,KAAKE,IAAL,EAApB;AACA,UAAMlB,YAAYgB,KAAKG,IAAL,CAAU,YAAV,CAAlB;AACAC,yBAAmB,IAAnB,EAAyBpB,SAAzB,EAAoCiB,WAApC;AACF,IARJ;;AAUO,OAAMG,kDAAqB,SAArBA,kBAAqB,CAACC,QAAD,EAAWrB,SAAX,EAAsBiB,WAAtB,EAAsC;AACrE,UAAGlB,GAAH,EAAQ;AACLA,aAAIuB,SAAJ;AACA;AACF;AACDjB,cAAQ,CAAC,yBAAD,CAAR,EAAqC,UAACkB,KAAD,EAAW;AAC7CA,iBAAQ,sBAAEA,KAAF,EAASC,IAAT,EAAR;;AAEAzB,eAAM0B,kBAAQC,iBAAR,CAA0BH,KAA1B,EAAiC;AACpCI,yBAAa,gBADuB;AAEpCC,mBAAO,GAF6B;AAGpCC,oBAAQ,GAH4B;AAIpCC,uBAAW,KAJyB;AAKpCC,yBAAa,KALuB;AAMpCC,yBAAa,KANuB;AAOpCC,yBAAa,KAPuB;AAQpCC,sBAAU,KAR0B;AASpCC,2BAAe,KATqB;AAUpCC,mBAAO,IAV6B;AAWpCC,8BAAiB,IAXmB;AAYpCC,qBAAS,mBAAM;AACZvC,qBAAM,IAAN;AACF;AAdmC,UAAjC,CAAN;AAgBAwB,eAAMgB,IAAN,CAAW,QAAX,EAAqBxB,EAArB,CAAwB,OAAxB,EAAiC,YAAM;AACpCyB,6BAAEC,KAAF,CAAQC,MAAR,CAAe,EAACC,SAAS,aAAa1B,WAAvB,EAAf;AACA,gBAAGI,QAAH,EAAY;AACTpB,6BAAc2C,MAAd,CAAqB,OAArB;AACA3C,6BAAc4C,GAAd,CAAkB,cAAlB,EAAkCxB,QAAlC;AACF,aAHD,MAIK,IAAGrB,cAAc,SAAjB,EAA4B;AAC9BC,6BAAc2C,MAAd,CAAqB,OAArB;AACA3C,6BAAc2C,MAAd,CAAqB,cAArB;AACF,aAHI,MAGC;AACH3C,6BAAc4C,GAAd,CAAkB,OAAlB,EAA2B,EAACzC,MAAMJ,SAAP,EAA3B;AACF;AACD8C,qBAASC,MAAT;AACF,UAbD;AAcAxB,eAAMgB,IAAN,CAAW,SAAX,EAAsBxB,EAAtB,CAAyB,OAAzB,EAAkC,YAAM;AACrChB,gBAAIiD,MAAJ,CAAY,OAAZ;AACAjD,gBAAIiD,MAAJ,CAAY,SAAZ;AACF,UAHD;AAIAjD,aAAIiD,MAAJ,CAAW,MAAX;AACF,OAtCD;AAuCF,IA5CM;;qBA8CS,EAAE5B,sCAAF,E","file":"themes.js","sourcesContent":["/**\r\n * Created by arnab on 4/24/16.\r\n */\r\nimport $ from 'jquery';\r\nimport windows from '../windows/windows';\r\nimport '../common/util';\r\nimport 'highstock-release/highstock';\r\nimport 'jquery-growl';\r\n\r\nlet win = null;\r\n\r\n/*Set theme from local storage*/\r\nlet themeName = local_storage.get(\"theme\");\r\nconst custom_theme = local_storage.get(\"custom_theme\");\r\nthemeName = themeName && themeName.name;\r\nif (themeName) {\r\n   require(['lib/highstock-release/themes/' + themeName]);\r\n}\r\nelse if(custom_theme) {\r\n   Highcharts.setOptions(custom_theme);\r\n}\r\nelse { // Setting candle-stick color incase there's no theme set.\r\n   Highcharts.setOptions({\r\n      plotOptions: {\r\n         candlestick: {\r\n            lineColor: 'rgba(0,0,0,1)',\r\n            color: 'rgba(215,24,24,1)',\r\n            upColor: 'rgba(2,146,14,1)',\r\n            upLineColor: 'rgba(0,0,0,1)'\r\n         }\r\n      }\r\n   });\r\n}\r\n\r\n$('a.theme_dark_blue, a.theme_dark_green, a.theme_dark_unica, a.theme_gray, a.theme_grid, ' +\r\n   'a.theme_grid_light, a.theme_sand_signika, a.theme_skies, a.theme_default')\r\n   .off('click')\r\n   .on('click', function () {\r\n      const $ele = $(this);\r\n      const elementText = $ele.text();\r\n      const themeName = $ele.attr('theme-name');\r\n      confirmationDialog(null, themeName, elementText);\r\n   });\r\n\r\nexport const confirmationDialog = (themeObj, themeName, elementText) => {\r\n   if(win) {\r\n      win.moveToTop();\r\n      return;\r\n   }\r\n   require(['text!themes/themes.html'], ($html) => {\r\n      $html = $($html).i18n();\r\n\r\n      win = windows.createBlankWindow($html, {\r\n         dialogClass: 'dialog-confirm',\r\n         width: 360,\r\n         height: 175,\r\n         resizable: false,\r\n         collapsable: false,\r\n         minimizable: false,\r\n         maximizable: false,\r\n         closable: false,\r\n         closeOnEscape: false,\r\n         modal: true,\r\n         ignoreTileAction:true,\r\n         destroy: () => {\r\n            win = null;\r\n         },\r\n      });\r\n      $html.find(\"#apply\").on(\"click\", () => {\r\n         $.growl.notice({message: 'Loading ' + elementText});\r\n         if(themeObj){\r\n            local_storage.remove(\"theme\");\r\n            local_storage.set(\"custom_theme\", themeObj);\r\n         }\r\n         else if(themeName === 'default') {\r\n            local_storage.remove(\"theme\");\r\n            local_storage.remove(\"custom_theme\");\r\n         } else{\r\n            local_storage.set(\"theme\", {name: themeName}); \r\n         }\r\n         location.reload();\r\n      });\r\n      $html.find(\"#cancel\").on(\"click\", () => {\r\n         win.dialog( 'close' );\r\n         win.dialog( \"destroy\" );\r\n      });\r\n      win.dialog('open');\r\n   });\r\n}\r\n\r\nexport default  { confirmationDialog };\r\n\r\n"]}